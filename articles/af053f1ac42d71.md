---
title: "2022年に触った技術の振り返り"
emoji: "🐙"
type: "tech"
topics: ["react", "golang", "javascript", "GCP"]
published: false
---

# 概要

なお、この記事は moga さんの記事を一方的にリスペクトし、参考にしています。
2021 年に続き今年も振り返りアウトプットしていきます。

https://zenn.dev/kotap15/articles/ad63f2f1f0b178

# 開発に関わったサービス

**メイン**

- 金融系のサービス開発
- ファンクラブ系のサービス開発
- 論文管理 SNS の個人開発

**サブ**

- スクレイピング
- LINEBOT 開発
- ココナラでの仕事

# 触った技術

## 言語

引き続き go/typescript/React は利用していました。
新しく Python をスクレイピングで利用しました。２年ぶりくらいに触りましたが相変わらず書きやすく便利でした。ただプロダクトレベルの書き方がよくわかっておらず泣く泣くダサいコードを書いてたところが歯がゆかったです。

## フレームワーク・ツール

- **GraphQL**

  - 2022 年のやりたいことに入っていた GraphQL。触れてよかった。
  - REST の概念を一旦捨てないとよくわからないということに気が付き、アンラーニングができた。
  - GraphQL Playground はとっても便利。
  - すべてのレスポンスを 200 で返すのはあんまり気に入っていない仕様である。
  - 結局 API モデルなので思ったより深みはなかった

- **OpenAPI**

  - OpenAPI ベースのスキーマ駆動開発のプロジェクトに入って開発していました。慣れたら楽でしたね。Go は chi でラップして、React では restful-react でラップしていました。API がフロントとバックエンドで共通定義できる便利さを知りました。欠点を上げるとすれば生成コードはブラックボックス化してしまうのでそこは生成ツールに依存した必要以上のコードになってしまうという点です。

- **React**

  - Grommet
    - 必要以上にラップされていたりして正直使いにくかった。もう使いたくない。
  - restful-react
    - OpenAPI の自動生成に使った。duplicated の警告が出ていて ReactQuery に移行推奨されてた。

- **Python**
  - Selenium
    - 自動操作ツールを作ったり、データをスクレイピングして BigQuery に詰めるファンクションを作ったりしました。やはりちょっと重め。

## 概念

- **DDD**

  - DDD リプレイス計画に携わることができて勉強会しながら、議論して質問して壁にぶつかってとトライアルアンドエラーの中で知ることができた。とてもいい環境だった。
  - Go でやっていたけれどもともとオブジェクト指向の言語ではないため、これは Java でよくね？という側面もあった。どこまでの境界を DDD にするかは重要だと思った。軽量 DDD という言葉もあるように、Go ではそこまでガチガチにやらなくてもいいかなと思った。

- **Clean Archtecture**
  - 昨年に続いてあいかわらずよくやった。
  - 本も二週目を腰入れて読んだが一回目と印象は全然違った。特に重要な依存の方向性や DI の部分など一周目のときはかなり流して読んでいたが改めて手を動かしてから読むと理解が更に深まった。あとイメージ的にはコアな部分ではないのだけど SOLID の原則とかどこが詳細なのかの話とか、この本が伝えたがっていることはあの円の図のことが先行してるけどそうじゃないんだなって思った。
  - まだ勉強しなければいけない

README にきれいに設計を書いているリポジトリがあって感動したので、真似して figma でアーキテクチャ図を書けるようなテンプレートを作っちゃった。(触りたい方いたら連絡ください。)

|                                                                                                          |                                                                                                                           |
| -------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- |
| ![](https://storage.googleapis.com/zenn-user-upload/ff322dc1bd50-20221219.png =350x)_figma テンプレート_ | ![](https://user-images.githubusercontent.com/7589567/179364458-4d3b6f93-608f-4273-b793-e7227b05fe2d.png =350x)_サンプル_ |

## プラットフォーム・サービス

- **AWS**

  - 深くは触っていませんが、権限周りが GCP に比べてめんどくさいかったですね。
  - MediaConvert
    - 動画のサムネや圧縮、エンコードをかなり楽にできるやつ。
    - 動画を扱うサービスを作ってたときは自前で Cloud Functions に ffmpeg していたのでこんな便利なものがあるとは思わなかった
    - Job Template の IaC にはまだ対応していないのが辛い所([PR]()はでてるらしい)

- **GCP**

  - CloudRun Jobs
    - CloudRun くん Google Cloud の推しだけあってどんどん便利になっていく
    - terraform に対応していないところが玉に瑕だったけど、ちょうど最近対応したっぽい。
  - firestore
    - 去年に引き続き利用していましたが今年はコンサル的な役割での仕事も多くまた学びが増えました。
    - クエリが進化してた
  - Cloud Spanner
    - NewSQL
    - 特有の概念が多くて非常に学び街があるしいまもよく壁にぶち当たる。
    - スケーリングの運用に関してほぼ放置でいいという点はとても良さそうです。
    - 特に国内でもメルカリなどのテック企業が採用してアウトプットしていることが多く、たり全体的に盛り上がっている印象。
  - Pub/Sub BigQuery Subscription
    - Dataflow とかが不要になるじゃんって思って興味持って触ってみた。
    - プレビュー版のせいか、説明がよくわからなかったり、スキーマの不一致にかなり苦しめられてりと、使い勝手悪かったです。

- **PostgreSQL**

  - 深く触れてはないですが、Row Level Security が便利くらいの感想

- **PayPal**

  - まだ少し触った程度です。開発者としての PayPal のメモです。Stripe と比べて結構辛いです。端的にいうと開発者体験が良くないです。
  - 辛いポイント
    - Go の SDK がない
    - 開発ドキュメントが Stripe に比べて親切さに欠ける
    - 管理画面が重い
    - 再試行設定だとか返金詳細とか細かい設定が Stripe よりも劣っている。

- **LINE BOT API**
  - Cloud Function と Scheduler を設定するだけでかなり楽に作れることがわかり、デプロイスクリプトを作ってポンポン作っていました。
  - なにかビジネスもできるか考えたがマネタイズ手段がちょっとめんどくさそうでアイデアもなかった

# 技術的な本

特に良かった３冊をピックアップ。

- [Python クローリング&スクレイピング[増補改訂版] -データ収集・解析のための実践開発ガイド](https://amzn.to/3W7AQAh)
  - 人並みのエンジニアならこれ読んだらある程度のクローリング・スクレイピングができる
- [実用 Go 言語 ―システム開発の現場で知っておきたいアドバイス](https://amzn.to/3G3qFHv)
  - ↓ の記事でも何回も紹介してたけど Go 史上１番面白い本だった

https://zenn.dev/kotap15/articles/b6f6d8ce421d67

- [ドメイン駆動設計入門 ボトムアップでわかる! ドメイン駆動設計の基本](https://amzn.to/3PEQTTV)
  - DDD の入門に良かったです。

# 感想

1 年あると色々触れました、ただ新しい技術を触るというよりは、触ってた技術を深く知ることができた１年だったと思います。
ベースがある状態でのチャレンジが多かったので、低コストで色々なｌことにチャレンジできたと思いますが、逆にいうと０から学ぶハングリーでハードな挑戦はなかったです。
ン
